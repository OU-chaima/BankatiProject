<div class="header pb-8 pt-5 pt-md-8" style="background: linear-gradient(to right, #ffc107, #2c4481);">
  <div class="container-fluid">
    <div class="header-body">
      <!-- Card stats -->
      <div class="row">
        <!-- Card: Utilisateur -->
        <div class="col-lg-6 mb-4">
          <div class="card card-stats shadow">
            <div class="card-body">
              <div class="row align-items-center">
                <div class="col">
                  <h5 class="card-title text-uppercase text-muted mb-1">Dépenses</h5>
                  <p class="h4 font-weight-bold mb-0">
                    <!-- Affiche le total des montants des transactions où l'utilisateur est l'expéditeur -->
                    <span *ngIf="senderTotalAmount > 0">{{ senderTotalAmount }} DH</span>
                    <span *ngIf="senderTotalAmount === 0">Aucune transaction trouvée</span>
                  </p>
                </div>
                <div class="col-auto">
                  <div class="icon icon-shape bg-danger text-white rounded-circle shadow">
                    <i class="fas fa-money-bill-alt"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Card: Solde -->
        <div class="col-lg-6 mb-4">
          <div class="card card-stats shadow">
            <div class="card-body">
              <div class="row align-items-center">
                <div class="col">
                  <h5 class="card-title text-uppercase text-muted mb-1">Revenus</h5>
                  <p class="h4 font-weight-bold mb-0">
                    <!-- Affiche le total des montants des transactions où l'utilisateur est le bénéficiaire -->
                    <span *ngIf="beneficiaryTotalAmount > 0">{{ beneficiaryTotalAmount }} DH</span>
                    <span *ngIf="beneficiaryTotalAmount === 0">Aucune transaction trouvée</span>
                  </p>
                </div>
                <div class="col-auto">
                  <div class="icon icon-shape bg-warning text-white rounded-circle shadow">
                    <i class="fas fa-money-bill-alt"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

  
    </div>
  </div>
<div class="header pb-4 pt-4 pt-md-5" style="background: linear-gradient(to right, #ffc107, #2c4481);"></div>

<!-- Conteneur principal -->
<div class="container">
  <!-- Pie Chart -->
  <div class="piechart" [ngStyle]="pieStyle"></div>

  <!-- Legend -->
  <div class="legend-container">
    <div class="legend-item">
      <div class="color-box color-pink"></div>
      <span>Dépenses ({{ senderTotalAmount }} DH)</span>
    </div>
    <div class="legend-item">
      <div class="color-box color-orange"></div>
      <span>Revenus ({{ beneficiaryTotalAmount }} DH)</span>
    </div>
  </div>



  <!-- Formulaire pour créer une dépense -->
  <!--div class="card shadow mb-4">
    <div class="card-body">
      <h5 class="card-title text-uppercase mb-3">Créer une nouvelle dépense</h5>
      <form (submit)="createDepense(); $event.preventDefault()">
        <div class="mb-3">
          <label for="montant" class="form-label">Montant :</label>
          <input
            type="number"
            id="montant"
            name="montant"
            class="form-control"
            [(ngModel)]="newDepense.montant"
            placeholder="Entrez le montant"
            required />
        </div>
        <div class="mb-3">
          <label for="userPhone" class="form-label">Téléphone :</label>
          <input
            type="text"
            id="userPhone"
            name="userPhone"
            class="form-control"
            [(ngModel)]="newDepense.userPhone"
            placeholder="Téléphone de l'utilisateur"
            required />
        </div>
        <button
          type="submit"
          class="btn w-100"
          style="background-color: #ffc107; color: #fff; border: none;">Ajouter une dépense</button>

      </form>
    </div>
  </div-->


  <!--div class="card shadow">
    <div class="card-body">
      <h5 class="card-title text-uppercase mb-3">Liste des Dépenses</h5>
      <div *ngIf="depenses.length === 0" class="text-muted">Aucune dépense trouvée.</div>
      <ul *ngIf="depenses.length > 0" class="list-group">
        <li *ngFor="let depense of depenses" class="list-group-item d-flex justify-content-between align-items-center">
          <span>{{ depense.montant }} MAD</span>
          <div>
            <button
              class="btn btn-outline-primary btn-sm me-2"
              (click)="updateDepense(depense.id, depense.montant + 100)">Augmenter</button>
            <button
              class="btn btn-outline-danger btn-sm"
              (click)="cancelDepense(depense.id)">Supprimer</button>
          </div>
        </li>
      </ul>
    </div>
  </div-->
</div>
