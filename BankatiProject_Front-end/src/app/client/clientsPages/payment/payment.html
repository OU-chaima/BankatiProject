<div class="header pb- pt-5 pt-md-8" style="background: linear-gradient(to right, #ffc107, #2c4481);"></div>




<!-- validate 1 -->
<div class="container-fluid mt--3" *ngIf="currentStep === 1">
  <div class="col-xl-12 order-xl-1">
    <div class="card bg-secondary shadow">
      <div class="card-body">
        <div class="card-header bg-white border-0">
          <div class="row align-items-center">
            <div class="col-8">
              <h3 class="mb-0">Effectuer un paiement</h3>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-8">
            <form [formGroup]="paymentForm1" (ngSubmit)="validate1()">
              <div class="pl-lg-4">
                <div class="row">
                  <div class="col-lg-6">
                    <div class="form-group">
                      <label class="form-control-label" for="input-firstName">Prenom du donateur</label>
                      <input type="text" id="input-firstName" class="form-control form-control-alternative" value="{{client.firstName}}">
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <div class="form-group">
                      <label class="form-control-label" for="input-lastName">Nom du donateur</label>
                      <input type="text" id="input-lastName" class="form-control form-control-alternative" value="{{client.lastName}}">
                    </div>
                  </div>
                  <div class="col-lg-12">
                    <div class="form-group">
                      <label class="form-control-label" for="input-donation">Montant du don ({{client.currency}})</label>
                      <input type="number" id="input-donation" class="form-control form-control-alternative" formControlName="donationAmount">
                    </div>
                  </div>
                </div>



                <div class="row mt-4">
                  <div class="col-12 text-right">
                    <button class="btn btn-sm btn-warning" type="button" (click)="onCancel()">Annuler</button>
                    <button class="btn btn-sm btn-primary" type="submit" [disabled]="paymentForm1.invalid">Valider</button>
                  </div>
                </div>
              </div>
            </form>
          </div>
          <div class="col-lg-4 text-center d-flex flex-column align-items-center justify-content-center">
            <img [src]="agentImage" alt="" class="img-fluid rounded-circle" style="width: 60%;">
            <h3 class="mt-3 mb-0">{{ serviceName }}</h3>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>







<!-- validate 2 -->
<div class="container-fluid mt--3" *ngIf="currentStep === 2">
  <div class="row">
    <div class="col-xl-12">
      <div class="card card-stats mb-4 mb-xl-0">
        <div class="card-body">
          <div class="row">
            <div class="col">
              <h5 class="card-title text-uppercase text-muted mb-0 ml-lg-8">Créancier</h5>
              <span class="h2 font-weight-bold mb-0 ml-lg-8">{{agentName}}</span>
            </div>
            <div class="col">
              <h5 class="card-title text-uppercase text-muted mb-0 ml-lg-6">Créance</h5>
              <span class="h2 font-weight-bold mb-0 ml-lg-6">{{serviceType}}</span>
            </div>
            <div class="col">
              <h5 class="card-title text-uppercase text-muted mb-0 ml-lg-6">Donateur</h5>
              <span class="h2 font-weight-bold mb-0 ml-lg-6">{{client.firstName}}{{" "}}{{client.lastName}}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row pt-3">
    <div class="col-xl-12">
      <div class="card card-stats mb-4 mb-xl-0">
        <div class="card bg-secondary shadow">
          <div class="card-header bg-white border-0">
            <div class="row align-items-center">
              <div class="col-8">
                <h3 class="mb-0">Seléctionnez Pour payer</h3>
              </div>
            </div>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-lg-8">
                <div class="pl-lg-4">
                  <div class="row">
                    <div class="col-lg-12">
                      <div class="form-group">
                        <label class="form-control-label" for="input-Amount">{{serviceName}}</label>
                        <input type="number" id="input-Amount" class="form-control form-control-alternative" formControlName="donation" [value]="donationAmount" placeholder="{{donationAmount}} DH" disabled>
                      </div>
                    </div>
                    <div class="col-lg-12 pt--4">
                      <div class="form-group">
                        <p class="form-control-label" ><strong>Total :{{donationAmount}} {{client.currency}}</strong></p>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-12 text-right">
                      <button class="btn btn-sm btn-primary" type="button" (click)="validate2()">Valider</button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-4 text-center d-flex flex-column align-items-center justify-content-center">
                <img [src]="agentImage" alt="" class="img-fluid rounded-circle" style="width: 60%;">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>









<!-- validate 3 -->
<div class="container-fluid mt--3" *ngIf="currentStep === 3">
  <div class="row">
    <div class="col-xl-12">
      <div class="card card-stats mb-4 mb-xl-0">
        <div class="card-body">
          <div class="row">
            <div class="col">
              <h5 class="card-title text-uppercase text-muted mb-0 ml-lg-8">Créancier</h5>
              <span class="h2 font-weight-bold mb-0 ml-lg-8">{{agentName}}</span>
            </div>
            <div class="col">
              <h5 class="card-title text-uppercase text-muted mb-0 ml-lg-6">Créance</h5>
              <span class="h2 font-weight-bold mb-0 ml-lg-6">{{serviceType}}</span>
            </div>
            <div class="col">
              <h5 class="card-title text-uppercase text-muted mb-0 ml-lg-6">Donateur</h5>
              <span class="h2 font-weight-bold mb-0 ml-lg-6">{{client.firstName}}{{" "}}{{client.lastName}}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row pt-3">
    <div class="col-xl-12">
      <div class="card card-stats mb-4 mb-xl-0">
        <div class="card bg-secondary shadow">
          <div class="card-header bg-white border-0">
            <div class="row align-items-center">
              <div class="col-8">
                <h3 class="mb-0">Récapitulatif des informations saisies</h3>
              </div>
            </div>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-lg-8">
                <div class="pl-lg-4">
                  <div class="row">
                    <div class="col-lg-12">
                      <div class="form-group">
                        <table class="table align-items-center table-white table-flush text-center shadow-lg rounded-sm pb--1">
                          <thead class="thead-dark">
                          <tr>
                            <th scope="col">Référence</th>
                            <th scope="col">Description</th>
                            <th scope="col">Prix TTC</th>
                          </tr>
                          </thead>
                          <tbody>
                          <tr class="align-middle">
                            <td>{{refOp}}</td>
                            <td>{{serviceName}}</td>
                            <td>{{donationAmount}}</td>
                          </tr>
                          </tbody>
                        </table>
                        <div align="right" class="col-lg-12 pt--4">
                          <div class="form-group pt-2">
                            <p class="form-control-label" ><strong>Montant du don ({{client.currency}}) :  {{donationAmount}}</strong></p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Checkbox for Subscription -->
                  <div class="row">
                    <div class="col-lg-12">
                      <div class="form-check">
                        <input
                          type="checkbox"
                          id="subscription-checkbox"
                          class="form-check-input"
                          (change)="onCheckboxChange($event)"
                          formControlName="subscription">
                        <label class="form-check-label" for="subscription-checkbox">
                          Activer l'abonnement pour un paiement chaque mois
                        </label>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-12 text-right">
                      <button class="btn btn-sm btn-warning" type="button" (click)="annuler()">Abondonner</button>
                      <button class="btn btn-sm btn-primary" type="submit" (click)="validate3()">Confirmer</button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-4 text-center d-flex flex-column align-items-center justify-content-center">
                <img [src]="agentImage" alt="" class="img-fluid rounded-circle" style="width: 60%;">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
